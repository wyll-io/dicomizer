# CLI

## Requirements

### Setup AWS credentials

You can either set 3 environment variables with their respective values like so:
```bash
export AWS_ACCESS_KEY_ID=XXXX
export AWS_SECRET_ACCESS_KEY=XXX
export AWS_REGION=xxx
```

or use the AWS CLI to login (refer to [AWS CLI documentation](https://docs.aws.amazon.com/cli/v1/userguide/cli-configure-files.html).

Dicomizer will either check for the default configuration generated by the AWS CLI or the 3 environment variables.
If not setup correctly, you'll encounter problems connecting dicomizer to your AWS services.

### Setup required secrets

2 secrets are required:
```bash
export ADMIN_PASSWORD=xxx # Password to login into the GUI
export JWT_SECRET=xxx # Signed JWT
```

## Commands

### `start`

Starts the web server and the cron job to fetch automatically DICOM data from a PACS server.

Example:

```bash
# Start the server on port 80 by default, listening on localhost by default and fetch data every day at midnight
$ dicomizer start --crontab "0 0 * * *" --pacs "10.0.0.56:104" --aet "MY_AET" --aec "THEIR_AEC" --aem "MY_AEM"
```

### `anonymize`

Anonymize a DICOM file.

Example:

```bash
# Anonymize a DICOM file located at /path/to/file.dcm and output it in `./anonymized.dcm`
$ dicomizer anonymize /path/to/file.dcm
# Anonymize a DICOM file located at /path/to/file.dcm and output it in `/another/path/ano.dcm`
$ dicomizer anonymize /path/to/file.dcm /another/path/ano.dcm
```
